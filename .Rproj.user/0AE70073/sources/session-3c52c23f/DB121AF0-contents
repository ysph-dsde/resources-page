<aside class="sidebar">
  <h2>Filter Categories</h2>
  <form id="categoryFilter" class="form">
    <% if (typeof items !== 'undefined' && items[0].items && items[0].items.length > 0) { %>
      <% const categories = new Set(); %>
      <% items[0].items.forEach(function(item) { %>
        <% item.categories.forEach(cat => categories.add(cat)); %>
      <% }); %>
      <% [...categories].forEach(function(category) { %>
        <div>
          <input type="checkbox" name="category" value="<%= category %>">
          <label><%= category %></label>
        </div>
      <% }); %>
    <% } %>
  </form>
</aside>